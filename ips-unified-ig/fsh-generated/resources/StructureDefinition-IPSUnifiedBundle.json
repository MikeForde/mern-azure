{
  "resourceType": "StructureDefinition",
  "id": "IPSUnifiedBundle",
  "url": "http://example.org/fhir/IPSUnified/StructureDefinition/IPSUnifiedBundle",
  "name": "IPSUnifiedBundle",
  "title": "IPS Unified Bundle",
  "status": "draft",
  "description": "A Bundle containing exactly one Patient, one Organization, and zero-or-more of the other IPS resources.",
  "fhirVersion": "4.0.1",
  "kind": "resource",
  "abstract": false,
  "type": "Bundle",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Bundle",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Bundle.type",
        "path": "Bundle.type",
        "patternCode": "collection"
      },
      {
        "id": "Bundle.entry",
        "path": "Bundle.entry",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "resource.resourceType"
            }
          ],
          "rules": "closed"
        },
        "min": 2
      },
      {
        "id": "Bundle.entry:PatientEntry",
        "path": "Bundle.entry",
        "sliceName": "PatientEntry",
        "min": 1,
        "max": "1"
      },
      {
        "id": "Bundle.entry:PatientEntry.resource",
        "path": "Bundle.entry.resource",
        "type": [
          {
            "code": "Patient",
            "profile": [
              "http://example.org/fhir/IPSUnified/StructureDefinition/IPSUnifiedPatient"
            ]
          }
        ]
      },
      {
        "id": "Bundle.entry:OrgEntry",
        "path": "Bundle.entry",
        "sliceName": "OrgEntry",
        "min": 1,
        "max": "1"
      },
      {
        "id": "Bundle.entry:OrgEntry.resource",
        "path": "Bundle.entry.resource",
        "type": [
          {
            "code": "Organization",
            "profile": [
              "http://example.org/fhir/IPSUnified/StructureDefinition/IPSUnifiedOrganization"
            ]
          }
        ]
      },
      {
        "id": "Bundle.entry:MedReqEntry",
        "path": "Bundle.entry",
        "sliceName": "MedReqEntry",
        "min": 0,
        "max": "*"
      },
      {
        "id": "Bundle.entry:MedReqEntry.resource",
        "path": "Bundle.entry.resource",
        "type": [
          {
            "code": "MedicationRequest",
            "profile": [
              "http://example.org/fhir/IPSUnified/StructureDefinition/IPSUnifiedMedicationRequest"
            ]
          }
        ]
      },
      {
        "id": "Bundle.entry:MedEntry",
        "path": "Bundle.entry",
        "sliceName": "MedEntry",
        "min": 0,
        "max": "*"
      },
      {
        "id": "Bundle.entry:MedEntry.resource",
        "path": "Bundle.entry.resource",
        "type": [
          {
            "code": "Medication",
            "profile": [
              "http://example.org/fhir/IPSUnified/StructureDefinition/IPSUnifiedMedication"
            ]
          }
        ]
      },
      {
        "id": "Bundle.entry:AllergyEntry",
        "path": "Bundle.entry",
        "sliceName": "AllergyEntry",
        "min": 0,
        "max": "*"
      },
      {
        "id": "Bundle.entry:AllergyEntry.resource",
        "path": "Bundle.entry.resource",
        "type": [
          {
            "code": "AllergyIntolerance",
            "profile": [
              "http://example.org/fhir/IPSUnified/StructureDefinition/IPSUnifiedAllergyIntolerance"
            ]
          }
        ]
      },
      {
        "id": "Bundle.entry:ConditionEntry",
        "path": "Bundle.entry",
        "sliceName": "ConditionEntry",
        "min": 0,
        "max": "*"
      },
      {
        "id": "Bundle.entry:ConditionEntry.resource",
        "path": "Bundle.entry.resource",
        "type": [
          {
            "code": "Condition",
            "profile": [
              "http://example.org/fhir/IPSUnified/StructureDefinition/IPSUnifiedCondition"
            ]
          }
        ]
      },
      {
        "id": "Bundle.entry:ObsEntry",
        "path": "Bundle.entry",
        "sliceName": "ObsEntry",
        "min": 0,
        "max": "*"
      },
      {
        "id": "Bundle.entry:ObsEntry.resource",
        "path": "Bundle.entry.resource",
        "type": [
          {
            "code": "Observation",
            "profile": [
              "http://example.org/fhir/IPSUnified/StructureDefinition/IPSUnifiedObservation"
            ]
          }
        ]
      }
    ]
  }
}
